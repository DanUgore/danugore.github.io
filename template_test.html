<!DOCTYPE html>
<html>
	<head>
		<script src="./lib/jquery-1.11.1.min.js"></script>
		<script src="text-formatter.js"></script>
	</head>
	<body>
	A simple templating engine.
	<button onclick="parseInput()">Template!</button><button onclick="restoreInput()">Restore!</button><br />
	<textarea id="i" style="width: 48%; height: 500px;"></textarea>
	<textarea id="d" style="width: 48%; height: 500px;"></textarea>
	<script>
	template = ""; parsed = ""; json = "";
	$('#i').focus();
	$('#i').val("This placeholder will resolve to {placeholder}!");
	$('#d').val("{\n\t\"placeholder\": \"My Own Message\",\n\t\"unused\": \"\"\n}");
	function parseInput() {
		if (parsed === $('#i').val() && json === $('#d').val()) return;
		template = $('#i').val();
		json = $('#d').val();
		parsed = fillTemplate(template, JSON.parse(json));
		$('#i').val(parsed);
	}
	function restore() {
	  $('#i').text(template);
	}
	</script>
	</body>
</html>
